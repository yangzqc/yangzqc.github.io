import{_ as k,r as l,d as C,e as M,f as T,c,o as r,g as N,a as y,F as I,b as A,t as L,n as W,h as _,w as d,i as Y,j as q}from"./app-BUb9yc-m.js";const F={class:"masonry-container"},V={key:0,class:"loading-container"},B={key:1,class:"error-overlay"},U={class:"error-list"},H={class:"masonry-grid"},R=["src","alt"],D=15,J=260,O={__name:"ImageMasonry",props:{images:{type:Array,default:()=>[]}},setup(j){const h=j;function z(t,s){let u;return function(...b){const w=()=>{clearTimeout(u),t(...b)};clearTimeout(u),u=setTimeout(w,s)}}const i=l(4),p=l(J),x=l(window.innerWidth),v=l(!0),f=l([]),n=l(0),e=l(h.images),m=()=>{const t=window.innerWidth;x.value=t,t>=1200?i.value=4:t>=900?i.value=3:t>=600?i.value=2:i.value=1;const s=t;p.value=(s-(i.value-1)*D)/i.value},o=C(()=>{const t=Array.from({length:i.value},()=>[]);return e.value.forEach((s,u)=>{const g=u%i.value;t[g].push(s)}),console.log("result--",t),t}),a=t=>{const s=t.target;s.style.width="100%",s.style.height="auto",n.value++,n.value===e.value.length&&(v.value=!1)},S=t=>{const s=t.target;f.value.push(s.src),n.value++,n.value===e.value.length&&(v.value=!1)},E=z(()=>{m()},200);return M(()=>{m(),window.addEventListener("resize",E)}),T(()=>{window.removeEventListener("resize",E)}),(t,s)=>(r(),c("div",F,[v.value?(r(),c("div",V,s[0]||(s[0]=[y("div",{class:"loading-spinner"},"正在加载中，请稍等...",-1)]))):N("",!0),f.value.length?(r(),c("div",B,[s[1]||(s[1]=y("div",{class:"error-title"},"以下图片加载失败：",-1)),y("ul",U,[(r(!0),c(I,null,A(f.value,(u,g)=>(r(),c("li",{key:g},L(u),1))),128))])])):N("",!0),y("div",H,[(r(!0),c(I,null,A(o.value,(u,g)=>(r(),c("div",{key:g,class:"masonry-column",style:W({width:`${p.value}px`})},[(r(!0),c(I,null,A(u,(b,w)=>(r(),c("div",{key:w,class:"masonry-item"},[y("img",{src:b.imageSrc,alt:b.imageAlt,onLoad:a,onError:S},null,40,R)]))),128))],4))),128))])]))}},$=k(O,[["__scopeId","data-v-f05c1688"]]),G={__name:"index.html",setup(j){const h=(n,e)=>`${n}-${e<9?0:""}${e+1}`,z=()=>{const n="https://memories.obs.cn-south-1.myhuaweicloud.com/beijing/yiheyuan/",e=[];return Array.from({length:22}).forEach((m,o)=>{const a=h("yiheyuan",o);e.push({imageSrc:`${n}${a}.jpg`,imageAlt:a})}),e},i=()=>{const n="https://memories.obs.cn-south-1.myhuaweicloud.com/beijing/yuanmingyuan/",e=[];return Array.from({length:4}).forEach((m,o)=>{const a=h("yuanmingyuan",o);e.push({imageSrc:`${n}${a}.jpg`,imageAlt:a})}),e},p=()=>{const n="https://memories.obs.cn-south-1.myhuaweicloud.com/beijing/miaofengshan/",e=[];return Array.from({length:7}).forEach((m,o)=>{const a=h("miaofengshan",o);e.push({imageSrc:`${n}${a}.jpg`,imageAlt:a})}),e},x=l(z()),v=l(i()),f=l(p());return(n,e)=>{const m=Y("Tabs");return r(),c("div",null,[_(m,{id:"0",data:[{id:"颐和园"},{id:"圆明园"},{id:"妙峰山"}]},{title0:d(({value:o,isActive:a})=>e[0]||(e[0]=[q("颐和园")])),title1:d(({value:o,isActive:a})=>e[1]||(e[1]=[q("圆明园")])),title2:d(({value:o,isActive:a})=>e[2]||(e[2]=[q("妙峰山")])),tab0:d(({value:o,isActive:a})=>[_($,{images:x.value},null,8,["images"])]),tab1:d(({value:o,isActive:a})=>[_($,{images:v.value},null,8,["images"])]),tab2:d(({value:o,isActive:a})=>[_($,{images:f.value},null,8,["images"])]),_:1})])}}},K=JSON.parse('{"path":"/beijing/","title":"北京","lang":"en-US","frontmatter":{"title":"北京","sidebar":false,"lastUpdated":false,"contributors":false,"prev":{"text":"西安","link":"/xian/"}},"headers":[],"git":{"updatedTime":1745067385000,"changelog":[{"hash":"6f2d85023c35547e983bb04c88b2c39e0b5f0a20","time":1745067385000,"email":"yangzqc@126.com","author":"yangzqc","message":"feat: 使用ImageMasonry组件优化北京"},{"hash":"0a60c15ebe986078884d24b8bc829cc955151eb9","time":1745055622000,"email":"yangzqc@126.com","author":"yangzqc","message":"test: 添加测试vue组件"},{"hash":"0858219b9f0ee051b62875d6450a1680d4750e43","time":1744556875000,"email":"yangzqc@126.com","author":"yangzqc","message":"feat: [城市] 增加西安"},{"hash":"420ec477605806cc9c560881d66d47e2c8fb6824","time":1743943680000,"email":"yangzqc@126.com","author":"yangzqc","message":"fix: perfect use function replace arr"},{"hash":"006938745ff8fd4caa66509eb336b5fac8de8377","time":1743939989000,"email":"yangzqc@126.com","author":"yangzqc","message":"fix: modify styles and hidden sliderbar"},{"hash":"d4cb60053823ab4c1209534020c850149fcc63a0","time":1743776314000,"email":"yangzqc@126.com","author":"yangzqc","message":"feat: add shenzhen"},{"hash":"8ccd3789c3f3e7c2cdfa2c81f975e4a8720ad7eb","time":1743770656000,"email":"yangzqc@126.com","author":"yangzqc","message":"feat: init project"}]},"filePathRelative":"beijing/index.md"}');export{G as comp,K as data};
