import{_ as W,r as n,d as S,e as A,f as B,i as v,g as N,c as s,o as a,w as E,a as u,v as P,F as y,b,t as F,n as U,h as T,j as C,k as q,l as D}from"./app-BYLAa8ZB.js";const I={class:"video-container"},R={class:"loading-container"},$={class:"error-overlay"},j={class:"error-list"},H={class:"video-grid"},J=["src","onLoadedmetadata","onError"],G=15,K=260,Q={__name:"VideoPlayer",props:{videoList:{type:Array,default:()=>[]}},setup(g){const w=g;function V(e,t){let o;return function(...h){const x=()=>{clearTimeout(o),e(...h)};clearTimeout(o),o=setTimeout(x,t)}}const i=n(3),r=n(K),p=n(v?window.innerWidth:900),c=n(!0),d=n([]),m=n(0),f=n(w.videoList),L=()=>{if(!v)return;const e=window.innerWidth;p.value=e,e>=1800?i.value=3:e>=900?i.value=2:i.value=1;const t=e;r.value=(t-(i.value-1)*G)/i.value},k=S(()=>{const e=Array.from({length:i.value},()=>[]);return f.value.forEach((t,o)=>{const l=o%i.value;e[l].push(t)}),e}),z=(e,t)=>{const o=e.target;o.style.width="100%",o.style.height="auto",o.volume=.1,m.value++,m.value===f.value.length&&(c.value=!1)},O=(e,t)=>{e.target,d.value.includes(t.url)||d.value.push(t.url),m.value++,m.value===f.value.length&&(c.value=!1)},M=V(()=>{L()},200);return A(()=>{L()}),B(()=>{v&&window.addEventListener("resize",M)}),N(()=>{v&&window.removeEventListener("resize",M)}),(e,t)=>(a(),s("div",I,[E(u("div",R,t[0]||(t[0]=[u("div",{class:"loading-spinner"},"正在加载中，请稍等...",-1)]),512),[[P,c.value]]),E(u("div",$,[t[1]||(t[1]=u("div",{class:"error-title"},"以下视频加载失败：",-1)),u("ul",j,[(a(!0),s(y,null,b(d.value,(o,l)=>(a(),s("li",{key:l},F(o),1))),128))])],512),[[P,d.value.length]]),u("div",H,[(a(!0),s(y,null,b(k.value,(o,l)=>(a(),s("div",{key:l,class:"video-column",style:U({width:`${r.value}px`})},[(a(!0),s(y,null,b(o,(h,x)=>(a(),s("div",{key:x,class:"video-item"},[u("video",{src:h.url,controls:"",onLoadedmetadata:_=>z(_),onError:_=>O(_,h)}," 您的浏览器不支持 HTML5 视频播放。 ",40,J)]))),128))],4))),128))])]))}},X=W(Q,[["__scopeId","data-v-ff4b4fe9"]]),Z={__name:"index.html",setup(g){const w=n([{url:"https://memories.obs.cn-south-1.myhuaweicloud.com/tianshui/xiwancun/xiwancun-video-01.MP4"},{url:"https://memories.obs.cn-south-1.myhuaweicloud.com/tianshui/xiwancun/xiwancun-video-02.MP4"},{url:"https://memories.obs.cn-south-1.myhuaweicloud.com/tianshui/xiwancun/xiwancun-video-03.MOV"},{url:"https://memories.obs.cn-south-1.myhuaweicloud.com/tianshui/xiwancun/xiwancun-video-04.MOV"},{url:"https://memories.obs.cn-south-1.myhuaweicloud.com/tianshui/xiwancun/xiwancun-video-05.MOV"},{url:"https://memories.obs.cn-south-1.myhuaweicloud.com/tianshui/xiwancun/xiwancun-video-06.MOV"},{url:"https://memories.obs.cn-south-1.myhuaweicloud.com/tianshui/xiwancun/xiwancun-video-07.MOV"},{url:"https://memories.obs.cn-south-1.myhuaweicloud.com/tianshui/xiwancun/xiwancun-video-09.MP4"},{url:"https://memories.obs.cn-south-1.myhuaweicloud.com/tianshui/xiwancun/xiwancun-video-09.MP4"},{url:"https://memories.obs.cn-south-1.myhuaweicloud.com/tianshui/xiwancun/xiwancun-video-10.MP4"}]);return(V,i)=>{const r=q("Tabs");return a(),s("div",null,[T(r,{id:"0",data:[{id:"天水老家"}]},{title0:C(({value:p,isActive:c})=>i[0]||(i[0]=[D("天水老家")])),tab0:C(({value:p,isActive:c})=>[T(X,{videoList:w.value},null,8,["videoList"])]),_:1})])}}},ee=JSON.parse('{"path":"/video/tianshui/","title":"视频","lang":"en-US","frontmatter":{"title":"视频","sidebar":false,"lastUpdated":false,"contributors":false},"headers":[],"git":{"updatedTime":1745158117000,"changelog":[{"hash":"2f68f4e1cfe3b580d276d8866235792676b4d915","time":1745158117000,"email":"yangzqc@126.com","author":"yangzqc","message":"feat: 增加video"}]},"filePathRelative":"video/tianshui/index.md"}');export{Z as comp,ee as data};
